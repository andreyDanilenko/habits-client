<template>
  <div class="bg-white rounded-xl border shadow-sm p-6">
    <h2 class="text-xl font-bold text-gray-900 mb-4">–ë—ã—Å—Ç—Ä–∞—è –∑–∞–ø–∏—Å—å</h2>

    <div class="space-y-4">
      <textarea
        v-model="note"
        placeholder="–ö–∞–∫ –ø—Ä–æ—à–µ–ª –¥–µ–Ω—å?"
        class="w-full h-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"
      />

      <div class="flex items-center justify-between flex-wrap">
        <div class="flex items-center space-x-2">
          <button
            v-for="mood in moods"
            :key="mood.emoji"
            class="cursor-pointer p-2 rounded-lg hover:bg-gray-100 transition-colors"
            :class="{ 'bg-indigo-100': selectedMood === mood.value }"
            @click="selectedMood = mood.value"
            :title="mood.label"
          >
            <span class="text-2xl">{{ mood.emoji }}</span>
          </button>
        </div>

        <Button @click="saveNote" :disabled="!note.trim()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å </Button>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
  import { ref } from 'vue'
  import { Button } from '@/shared/ui'

  const note = ref('')
  const selectedMood = ref<number | null>(null)

  const moods = [
    { emoji: 'üòä', value: 5, label: '–û—Ç–ª–∏—á–Ω–æ' },
    { emoji: 'üôÇ', value: 4, label: '–•–æ—Ä–æ—à–æ' },
    { emoji: 'üòê', value: 3, label: '–ù–æ—Ä–º–∞–ª—å–Ω–æ' },
    { emoji: 'üòî', value: 2, label: '–ü–ª–æ—Ö–æ' },
    { emoji: 'üò¢', value: 1, label: '–û—á–µ–Ω—å –ø–ª–æ—Ö–æ' },
  ]

  const saveNote = () => {
    // –ó–∞–≥–ª—É—à–∫–∞: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
    console.log('Save note:', { note: note.value, mood: selectedMood.value })
    note.value = ''
    selectedMood.value = null
  }
</script>
